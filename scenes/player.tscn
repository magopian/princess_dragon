[gd_scene load_steps=48 format=3 uid="uid://dtrhqf8ws4yxy"]

[ext_resource type="Texture2D" uid="uid://bdheg38c1n4g2" path="res://assets/sprites/knight.png" id="1_ixncy"]
[ext_resource type="Script" path="res://scripts/player.gd" id="1_xlikq"]
[ext_resource type="Texture2D" uid="uid://dvhe5jm3rcab2" path="res://assets/sprites/princess_dragon_fall.png" id="2_sbcls"]
[ext_resource type="PackedScene" uid="uid://ft2bs12ouq7t" path="res://scenes/trail.tscn" id="3_0x5rx"]
[ext_resource type="Texture2D" uid="uid://dws81wlobanme" path="res://assets/sprites/princess_dragon_jump.png" id="3_4xl1h"]
[ext_resource type="AudioStream" uid="uid://dys0e2o5nc2ln" path="res://assets/sounds/jump.wav" id="4_wvmh3"]
[ext_resource type="Texture2D" uid="uid://c057qtajqik65" path="res://assets/sprites/princess_dragon_land.png" id="5_2p2vy"]
[ext_resource type="AudioStream" uid="uid://bf7x0a03gaq6r" path="res://assets/sounds/temp/click_005.ogg" id="5_onlfy"]
[ext_resource type="PackedScene" uid="uid://5bvgxd6v1kol" path="res://scenes/shaker.tscn" id="6_4v3dh"]

[sub_resource type="AtlasTexture" id="AtlasTexture_0l82k"]
atlas = ExtResource("2_sbcls")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_uqrvi"]
atlas = ExtResource("2_sbcls")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7e8qv"]
atlas = ExtResource("2_sbcls")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ngrr2"]
atlas = ExtResource("2_sbcls")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_5mdgm"]
atlas = ExtResource("2_sbcls")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_xispw"]
atlas = ExtResource("2_sbcls")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_oarv6"]
atlas = ExtResource("1_ixncy")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qftn1"]
atlas = ExtResource("1_ixncy")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_okdbn"]
atlas = ExtResource("1_ixncy")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1tmof"]
atlas = ExtResource("1_ixncy")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_h6ngx"]
atlas = ExtResource("3_4xl1h")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6uxve"]
atlas = ExtResource("3_4xl1h")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1cefc"]
atlas = ExtResource("3_4xl1h")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4ya76"]
atlas = ExtResource("3_4xl1h")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2y1pr"]
atlas = ExtResource("3_4xl1h")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_m11gg"]
atlas = ExtResource("5_2p2vy")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_h2pix"]
atlas = ExtResource("5_2p2vy")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_pv23c"]
atlas = ExtResource("1_ixncy")
region = Rect2(0, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_h16fo"]
atlas = ExtResource("1_ixncy")
region = Rect2(32, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_kejfe"]
atlas = ExtResource("1_ixncy")
region = Rect2(64, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_agxhu"]
atlas = ExtResource("1_ixncy")
region = Rect2(96, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_awdvc"]
atlas = ExtResource("1_ixncy")
region = Rect2(128, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1sx8j"]
atlas = ExtResource("1_ixncy")
region = Rect2(160, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hco1j"]
atlas = ExtResource("1_ixncy")
region = Rect2(192, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_atk83"]
atlas = ExtResource("1_ixncy")
region = Rect2(224, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_g0m34"]
atlas = ExtResource("1_ixncy")
region = Rect2(0, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_n6ynb"]
atlas = ExtResource("1_ixncy")
region = Rect2(32, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_km1vg"]
atlas = ExtResource("1_ixncy")
region = Rect2(64, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_x3f6q"]
atlas = ExtResource("1_ixncy")
region = Rect2(96, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_w71k1"]
atlas = ExtResource("1_ixncy")
region = Rect2(128, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_nss2m"]
atlas = ExtResource("1_ixncy")
region = Rect2(160, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_heb46"]
atlas = ExtResource("1_ixncy")
region = Rect2(192, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_inu44"]
atlas = ExtResource("1_ixncy")
region = Rect2(224, 96, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_oph6r"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0l82k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uqrvi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7e8qv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ngrr2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5mdgm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xispw")
}],
"loop": true,
"name": &"fall",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_oarv6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qftn1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_okdbn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1tmof")
}],
"loop": true,
"name": &"idle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_h6ngx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6uxve")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1cefc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4ya76")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2y1pr")
}],
"loop": true,
"name": &"jump",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_m11gg")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_h2pix")
}],
"loop": false,
"name": &"land",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_pv23c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h16fo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kejfe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_agxhu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_awdvc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1sx8j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hco1j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_atk83")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g0m34")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n6ynb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_km1vg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x3f6q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w71k1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nss2m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_heb46")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_inu44")
}],
"loop": true,
"name": &"run",
"speed": 10.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_e0x7h"]
radius = 6.0
height = 14.0

[sub_resource type="Curve" id="Curve_08ssn"]
_data = [Vector2(0, 0.516), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_hjhyf"]
curve = SubResource("Curve_08ssn")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_l8g16"]
particle_flag_disable_z = true
emission_shape = 3
emission_box_extents = Vector3(4, 1, 1)
direction = Vector3(0, 0, 0)
spread = 180.0
flatness = 1.0
initial_velocity_max = 10.07
gravity = Vector3(0, 0, 0)
scale_max = 2.0
alpha_curve = SubResource("CurveTexture_hjhyf")

[node name="Player" type="CharacterBody2D"]
z_index = 5
collision_layer = 2
script = ExtResource("1_xlikq")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -12)
sprite_frames = SubResource("SpriteFrames_oph6r")
animation = &"idle"
autoplay = "idle"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -7)
shape = SubResource("CapsuleShape2D_e0x7h")

[node name="CoyoteTimer" type="Timer" parent="."]
one_shot = true

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(0, -42)
zoom = Vector2(0.7, 0.7)
process_callback = 0
position_smoothing_enabled = true
position_smoothing_speed = 7.0

[node name="Shaker" parent="Camera2D" instance=ExtResource("6_4v3dh")]

[node name="Trail" parent="." instance=ExtResource("3_0x5rx")]

[node name="JumpBufferTimer" type="Timer" parent="."]
one_shot = true

[node name="JumpParticles" type="GPUParticles2D" parent="."]
emitting = false
amount = 20
process_material = SubResource("ParticleProcessMaterial_l8g16")
lifetime = 0.5
one_shot = true
explosiveness = 1.0
randomness = 1.0

[node name="JumpSound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("4_wvmh3")
bus = &"Sounds"

[node name="FallSound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("5_onlfy")
bus = &"Sounds"
